#pragma checksum "D:\Suresh\CoreSRT\CoreSRT\Views\Bills\Create.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "2df733c21b5517fd071918b7ee79e43c496719c5"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Bills_Create), @"mvc.1.0.view", @"/Views/Bills/Create.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Bills/Create.cshtml", typeof(AspNetCore.Views_Bills_Create))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "D:\Suresh\CoreSRT\CoreSRT\Views\_ViewImports.cshtml"
using CoreSRT;

#line default
#line hidden
#line 2 "D:\Suresh\CoreSRT\CoreSRT\Views\_ViewImports.cshtml"
using CoreSRT.Models;

#line default
#line hidden
#line 7 "D:\Suresh\CoreSRT\CoreSRT\Views\Bills\Create.cshtml"
using CoreSRT.Models.ViewModels;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"2df733c21b5517fd071918b7ee79e43c496719c5", @"/Views/Bills/Create.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"d8c89ab5a9a322b84dc6f70d6fd494388c667d6e", @"/Views/_ViewImports.cshtml")]
    public class Views_Bills_Create : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<BillViewModel>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(121, 2, true);
            WriteLiteral("\r\n");
            EndContext();
            BeginContext(130, 2, true);
            WriteLiteral("\r\n");
            EndContext();
            BeginContext(166, 2, true);
            WriteLiteral("\r\n");
            EndContext();
            BeginContext(190, 69, true);
            WriteLiteral("\r\n<div>\r\n    <p align=\"center\"> <b>Generate Bill</b> </p>\r\n</div>\r\n\r\n");
            EndContext();
#line 15 "D:\Suresh\CoreSRT\CoreSRT\Views\Bills\Create.cshtml"
 using (Html.BeginForm("Create", "Bills", FormMethod.Post))
{



#line default
#line hidden
            BeginContext(327, 100, true);
            WriteLiteral("    <table class=\"table\">\r\n        <tr>\r\n            <td> Select Customer : </td>\r\n            <td> ");
            EndContext();
            BeginContext(428, 113, false);
#line 22 "D:\Suresh\CoreSRT\CoreSRT\Views\Bills\Create.cshtml"
            Write(Html.DropDownListFor(m => m.CustomerId, new SelectList(Model.Customers, "CustomerId", "Name"), "Select Customer"));

#line default
#line hidden
            EndContext();
            BeginContext(541, 31, true);
            WriteLiteral("\r\n        </tr>\r\n    </table>\r\n");
            EndContext();
            BeginContext(574, 254, true);
            WriteLiteral("    <table name=\"BillingItems\" class=\"table\" id=\"billingItemsTable\">\r\n        <thead>\r\n            <tr>\r\n\r\n                <th class=\"col-md-2\">\r\n                    Item\r\n                </th>\r\n                <th class=\"col-md-2\">\r\n                    ");
            EndContext();
            BeginContext(829, 61, false);
#line 34 "D:\Suresh\CoreSRT\CoreSRT\Views\Bills\Create.cshtml"
               Write(Html.DisplayNameFor(model => model.BillingItems.First().CGST));

#line default
#line hidden
            EndContext();
            BeginContext(890, 67, true);
            WriteLiteral("\r\n                </th>\r\n                <th>\r\n                    ");
            EndContext();
            BeginContext(958, 61, false);
#line 37 "D:\Suresh\CoreSRT\CoreSRT\Views\Bills\Create.cshtml"
               Write(Html.DisplayNameFor(model => model.BillingItems.First().SGST));

#line default
#line hidden
            EndContext();
            BeginContext(1019, 67, true);
            WriteLiteral("\r\n                </th>\r\n                <th>\r\n                    ");
            EndContext();
            BeginContext(1087, 70, false);
#line 40 "D:\Suresh\CoreSRT\CoreSRT\Views\Bills\Create.cshtml"
               Write(Html.DisplayNameFor(model => model.BillingItems.First().OriginalPrice));

#line default
#line hidden
            EndContext();
            BeginContext(1157, 67, true);
            WriteLiteral("\r\n                </th>\r\n                <th>\r\n                    ");
            EndContext();
            BeginContext(1225, 69, false);
#line 43 "D:\Suresh\CoreSRT\CoreSRT\Views\Bills\Create.cshtml"
               Write(Html.DisplayNameFor(model => model.BillingItems.First().SellingPrice));

#line default
#line hidden
            EndContext();
            BeginContext(1294, 67, true);
            WriteLiteral("\r\n                </th>\r\n                <th>\r\n                    ");
            EndContext();
            BeginContext(1362, 65, false);
#line 46 "D:\Suresh\CoreSRT\CoreSRT\Views\Bills\Create.cshtml"
               Write(Html.DisplayNameFor(model => model.BillingItems.First().Quantity));

#line default
#line hidden
            EndContext();
            BeginContext(1427, 67, true);
            WriteLiteral("\r\n                </th>\r\n                <th>\r\n                    ");
            EndContext();
            BeginContext(1495, 67, false);
#line 49 "D:\Suresh\CoreSRT\CoreSRT\Views\Bills\Create.cshtml"
               Write(Html.DisplayNameFor(model => model.BillingItems.First().TotalPrice));

#line default
#line hidden
            EndContext();
            BeginContext(1562, 103, true);
            WriteLiteral("\r\n                </th>\r\n            </tr>\r\n        </thead>\r\n        <tbody class=\"itemCollections\">\r\n");
            EndContext();
#line 54 "D:\Suresh\CoreSRT\CoreSRT\Views\Bills\Create.cshtml"
             for (int i = 0; i < Model.BillingItems.Count; i++)
            {

                Html.RenderPartial("BillingItemViewModel", Model.BillingItems[i]);
            }

#line default
#line hidden
            BeginContext(1842, 744, true);
            WriteLiteral(@"
        </tbody>
        <tfoot>
            <tr>
                <td>
                    <input id=""btnAdd"" class=""btnAdd btn btn-default"" type=""button"" name=""name"" value=""Add"" />
                </td>

                <td></td>
                <td></td>
            </tr>
        <tr>
            <td>
                <input id=""btnSubmit"" type=""button"" value=""Generate Bill"" class=""btn btn-default btn-print"" onclick=""TestFunction()"" />
                <button id=""btnSubmit"" class=""btn btn-success btn-lg"" onclick=""TestFunction()"">
                    <span class=""glyphicon glyphicon-ok""></span> Generate Bill
                </button>
                
            </td>
        </tr>
        </tfoot>
    </table>
");
            EndContext();
#line 81 "D:\Suresh\CoreSRT\CoreSRT\Views\Bills\Create.cshtml"
}

#line default
#line hidden
            BeginContext(2589, 2231, true);
            WriteLiteral(@"
    <script type=""text/javascript"">
    $(document).on(""click"", "".btnAdd"", function(){
    var index = $(""table#billingItemsTable tbody tr"").length + 1;

       $.ajax({
            url: 'AddItem',
    data:{index:index},
            success: function (data) {
                $('#billingItemsTable > tbody').append(data);
            },
            error: function (a, b, c) {
                console.log(a, b, c);
            }

        });
    });
 function TestFunction(){
        var table = $('table#billingItemsTable');

        var o = [];
        table.find('tr').each(function() {
        var $this = $(this);
        var $elements = $this.find('input, textarea, select')
        if ($elements.size() > 0) {
            var serialized = $elements.serialize();
            var item = $.toDictionary( serialized );
            o.push(item);
        }
        });
        o.splice(-1,1);

        var modelJson = new Object();
        modelJson.CustomerId = parseInt($('[id*=""Custome");
            WriteLiteral(@"rId""]').val());
        modelJson.Items = o;

        var dataJson = JSON.stringify(modelJson);
        var tempp = JSON.stringify({""modelJson"": dataJson});

        $.ajax({
             url:'Create',
             type:'POST',
             dataType: ""json"",
             contentType: 'application/json; charset=utf-8',
             data:  dataJson,
             success: function(data1){
                   window.location.href = '/Bills/print?billNo=' + data1;
             },
             error: function (a, b, c) {
                console.log(a, b, c);
            }
        });
    }
        (function($) {
    $.extend({
        toDictionary: function(query) {
            var parms = {};
            var items = query.split(""&""); // split
            for (var i = 0; i < items.length; i++) {
                var values = items[i].split(""="");
                var keys = values.shift().split(""."");
                var key = decodeURIComponent(keys[keys.length -1]);
                var val");
            WriteLiteral("ue = values.join(\"=\")\r\n                parms[key] = parseInt(decodeURIComponent(value));\r\n            }\r\n            return (parms);\r\n        }\r\n    })\r\n})(jQuery);\r\n\r\n\r\n    </script>");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<BillViewModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
